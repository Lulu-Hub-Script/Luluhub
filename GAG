-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Background
local bg = Instance.new("Frame")
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
bg.Parent = screenGui

-- Lulu Hub Title
local title = Instance.new("TextLabel")
title.Text = "Lulu Hub"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255, 105, 180) -- pink
title.TextSize = 60
title.AnchorPoint = Vector2.new(0.5, 0)
title.Position = UDim2.new(0.5, 0, 0.15, 0)
title.BackgroundTransparency = 1
title.Parent = bg

-- Typewriter text
local loadingText = Instance.new("TextLabel")
loadingText.Text = ""
loadingText.Font = Enum.Font.Gotham
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.TextSize = 32
loadingText.AnchorPoint = Vector2.new(0.5, 0)
loadingText.Position = UDim2.new(0.5, 0, 0.35, 0)
loadingText.BackgroundTransparency = 1
loadingText.Parent = bg

-- Counter
local counter = Instance.new("TextLabel")
counter.Text = "0/2300"
counter.Font = Enum.Font.Gotham
counter.TextColor3 = Color3.fromRGB(200, 200, 200)
counter.TextSize = 28
counter.AnchorPoint = Vector2.new(0.5, 0)
counter.Position = UDim2.new(0.5, 0, 0.45, 0)
counter.BackgroundTransparency = 1
counter.Parent = bg

-- Ping-pong animation circle
local ball = Instance.new("Frame")
ball.Size = UDim2.new(0, 20, 0, 20)
ball.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
ball.AnchorPoint = Vector2.new(0.5, 0.5)
ball.Position = UDim2.new(0.5, -100, 0.6, 0)
ball.BorderSizePixel = 0
ball.Parent = bg
ball.ZIndex = 2
Instance.new("UICorner", ball).CornerRadius = UDim.new(1, 0)

-- Typewriter effect function
local function typewriter(obj, text, delay)
    for i = 1, #text do
        obj.Text = string.sub(text, 1, i)
        task.wait(delay)
    end
end

-- Start loading animation and script execution
local function main()
    -- Start animations
    task.spawn(function()
        typewriter(loadingText, "Loading screen", 0.07)
    end)

    -- Counter animation
    task.spawn(function()
        local value = 0
        while value < 2300 do
            value += math.random(50, 150)
            if value > 2300 then value = 2300 end
            counter.Text = tostring(value) .. "/2300"
            task.wait(0.05)
        end
    end)

    -- Ping-pong animation
    task.spawn(function()
        local direction = 1
        while screenGui.Parent do
            local pos = ball.Position.X.Offset
            pos = pos + (direction * 4)
            if pos >= 100 then
                direction = -1
            elseif pos <= -100 then
                direction = 1
            end
            ball.Position = UDim2.new(0.5, pos, 0.6, 0)
            task.wait(0.02)
        end
    end)

    -- Load the main script with error handling
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://pastefy.app/vwB91OLj/raw", true))()
    end)

    -- Handle completion
    if success then
        -- Wait for animations to complete if needed
        while counter.Text ~= "2300/2300" do
            task.wait(0.1)
        end
        
        -- Fade out animation
        for i = 0, 1, 0.05 do
            bg.BackgroundTransparency = i
            title.TextTransparency = i
            loadingText.TextTransparency = i
            counter.TextTransparency = i
            ball.BackgroundTransparency = i
            task.wait(0.03)
        end
    else
        -- Error handling
        loadingText.Text = "LOAD FAILED!"
        counter.Text = "Error: "..tostring(err):sub(1, 30).."..."
        ball.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
        task.wait(5)
        
        -- Fade out on error
        for i = 0, 1, 0.05 do
            bg.BackgroundTransparency = i
            title.TextTransparency = i
            loadingText.TextTransparency = i
            counter.TextTransparency = i
            ball.BackgroundTransparency = i
            task.wait(0.03)
        end
    end

    -- Clean up
    screenGui:Destroy()
end

-- Start everything
main()
